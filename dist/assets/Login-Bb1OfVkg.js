import{r as i,j as e}from"./index-rPIBIrLb.js";function u(){const[t,d]=i.useState({email:"",password:""}),[s,n]=i.useState(""),l=r=>{d({...t,[r.target.name]:r.target.value})},m=async r=>{r.preventDefault(),n("");try{const o=await fetch("http://localhost:3001/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=await o.json();if(!o.ok)throw new Error(a.error||"Login failed");localStorage.setItem("token",a.token),localStorage.setItem("user",JSON.stringify(a.user)),a.user&&a.user.email==="admin@gmail.com"?window.location.href="/admin":window.location.href="/"}catch(o){n(o.message)}};return e.jsxs("div",{className:"max-w-md mx-auto mt-12 p-6 bg-white rounded shadow",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Log In"}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsx("input",{name:"email",type:"email",placeholder:"Email",value:t.email,onChange:l,required:!0,className:"w-full border p-2 rounded"}),e.jsx("input",{name:"password",type:"password",placeholder:"Password",value:t.password,onChange:l,required:!0,className:"w-full border p-2 rounded"}),s&&e.jsx("div",{className:"text-red-600",children:s}),e.jsx("button",{type:"submit",className:"w-full bg-emerald-600 text-white py-2 rounded hover:bg-emerald-700",children:"Log In"})]})]})}export{u as default};
