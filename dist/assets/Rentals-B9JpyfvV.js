import{r as s,j as e}from"./index-rPIBIrLb.js";const p=(...t)=>t.filter(Boolean).join(" ");function g(t){try{return new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP",maximumFractionDigits:0}).format(t)}catch{return`£${t}`}}function k(){const[t,d]=s.useState([]);s.useEffect(()=>{try{const a=localStorage.getItem("rental_items");d(a?JSON.parse(a):[])}catch{d([])}},[]);const l=s.useMemo(()=>[...t],[t]),[r,m]=s.useState("all"),[c,u]=s.useState(""),[x,i]=s.useState(()=>{const a=l.map(n=>n.dailyGBP);return a.length?Math.max(...a):30});s.useEffect(()=>{const a=l.map(n=>n.dailyGBP);i(a.length?Math.max(...a):30)},[l]);const o=s.useMemo(()=>l.filter(a=>r==="all"?!0:a.category===r).filter(a=>a.dailyGBP<=x).filter(a=>{if(!c.trim())return!0;const n=c.toLowerCase();return a.title.toLowerCase().includes(n)||a.brand.toLowerCase().includes(n)||a.shortDescription.toLowerCase().includes(n)||(a.tags||[]).some(j=>j.toLowerCase().includes(n))}),[l,r,c,x]),f=Math.max(30,Math.ceil((()=>{const a=l.map(n=>n.dailyGBP);return a.length?Math.max(...a):30})())),b=s.useMemo(()=>Array.from(new Set(l.map(a=>a.category))).filter(Boolean),[l]);return e.jsxs("div",{className:"space-y-10",children:[e.jsx("header",{className:"rounded-2xl bg-gradient-to-br from-emerald-600 via-emerald-500 to-indigo-600 p-6 text-white ring-1 ring-black/10",children:e.jsxs("div",{className:"mx-auto max-w-7xl",children:[e.jsx("h1",{className:"text-3xl font-extrabold tracking-tight",children:"Camping Gear Rentals"}),e.jsx("p",{className:"mt-1 text-emerald-50",children:"Tents, sleeping gear, packs & more — rent by the day, low deposit."})]})}),e.jsxs("div",{className:"mx-auto max-w-7xl px-4 lg:px-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("nav",{className:"flex flex-wrap gap-2",children:[e.jsx(h,{label:"All",active:r==="all",onClick:()=>m("all")}),b.map(a=>e.jsx(h,{label:a,active:r===a,onClick:()=>m(a)},a))]}),e.jsxs("div",{className:"grid w-full grid-cols-1 gap-3 sm:w-auto sm:grid-cols-2 sm:items-center",children:[e.jsxs("div",{className:"relative sm:col-span-1",children:[e.jsx("input",{value:c,onChange:a=>u(a.target.value),placeholder:"Search (brand, tags…) ",className:"w-full rounded-xl border border-emerald-300 bg-white/90 px-10 py-3 text-neutral-900 placeholder-neutral-500 outline-none transition focus:border-emerald-500 dark:bg-neutral-900 dark:text-neutral-100 dark:border-neutral-700 dark:placeholder-neutral-400"}),e.jsx("span",{className:"pointer-events-none absolute left-3 top-2.5 inline-flex h-7 w-7 items-center justify-center text-emerald-600",children:e.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"11",cy:"11",r:"7"}),e.jsx("path",{d:"m20 20-3.5-3.5"})]})})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsxs("label",{className:"block text-sm font-semibold text-neutral-700",children:["Max £/day ",e.jsxs("span",{className:"text-emerald-700",children:["(",x,")"]})]}),e.jsx("input",{type:"range",min:0,max:f,value:x,onChange:a=>i(Number(a.target.value)),className:"w-full accent-emerald-600"})]})]})]}),e.jsxs("div",{className:"mt-6 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[o.length===0&&e.jsx("div",{className:"col-span-full rounded-2xl bg-white p-8 text-center text-neutral-700 ring-1 ring-black/5 dark:bg-neutral-900 dark:text-neutral-300 dark:ring-neutral-800",children:"No items match your filters. Try widening the price or switching categories."}),o.map(a=>e.jsx(N,{item:a},a.id))]})]})]})}function h({label:t,active:d,onClick:l}){return e.jsx("button",{onClick:l,className:p("inline-flex items-center gap-2 rounded-xl px-4 py-2 text-sm font-semibold ring-1 transition",d?"bg-emerald-600 text-white ring-emerald-600":"bg-white text-emerald-700 ring-emerald-300 hover:bg-emerald-50"),children:t})}function N({item:t}){const[d,l]=s.useState(!1),[r,m]=s.useState(3),[c,u]=s.useState(""),x=t.dailyGBP*Math.max(1,r)+t.depositGBP,i=t.stock<=0;return e.jsxs("article",{className:"group flex h-full flex-col overflow-hidden rounded-2xl bg-white shadow-sm ring-1 ring-black/5 transition hover:-translate-y-0.5 hover:shadow-lg dark:bg-neutral-900 dark:ring-neutral-800",children:[e.jsx("div",{className:"relative h-44 w-full",children:e.jsx(v,{src:t.images[0],alt:t.title})}),e.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[e.jsx("h3",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:t.title}),e.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-xs",children:[e.jsx("span",{className:"inline-flex items-center rounded-full bg-emerald-100 px-2.5 py-0.5 font-semibold text-emerald-800 ring-1 ring-emerald-600/20",children:t.category}),i&&e.jsx("span",{className:"inline-flex items-center rounded-full bg-rose-600 px-2.5 py-0.5 font-bold text-white shadow-sm",children:"Out of stock"})]}),t.brand&&e.jsx("p",{className:"mt-1 text-sm text-neutral-600 dark:text-neutral-400",children:t.brand}),e.jsx("p",{className:"mt-2 text-sm text-neutral-700 dark:text-neutral-300",children:t.shortDescription||t.description||""}),e.jsxs("dl",{className:"mt-3 grid grid-cols-2 gap-3 text-sm text-neutral-800 dark:text-neutral-200",children:[e.jsxs("div",{className:"rounded-lg bg-neutral-50 p-2 dark:bg-neutral-800",children:[e.jsx("dt",{className:"text-neutral-500",children:"Price"}),e.jsxs("dd",{className:"font-medium",children:["£",t.dailyGBP,"/day"]})]}),e.jsxs("div",{className:"rounded-lg bg-neutral-50 p-2 dark:bg-neutral-800",children:[e.jsx("dt",{className:"text-neutral-500",children:"Deposit"}),e.jsx("dd",{className:"font-medium",children:g(t.depositGBP)})]}),e.jsxs("div",{className:"rounded-lg bg-neutral-50 p-2 dark:bg-neutral-800",children:[e.jsx("dt",{className:"text-neutral-500",children:"Stock"}),e.jsx("dd",{className:"font-medium",children:t.stock>0?`${t.stock} available`:"Out of stock"})]}),t.capacityPeople&&e.jsxs("div",{className:"rounded-lg bg-neutral-50 p-2 dark:bg-neutral-800",children:[e.jsx("dt",{className:"text-neutral-500",children:"Capacity"}),e.jsxs("dd",{className:"font-medium",children:[t.capacityPeople,"-person"]})]}),t.tempComfortC!==void 0&&e.jsxs("div",{className:"rounded-lg bg-neutral-50 p-2 dark:bg-neutral-800",children:[e.jsx("dt",{className:"text-neutral-500",children:"Comfort"}),e.jsxs("dd",{className:"font-medium",children:[t.tempComfortC,"°C"]})]}),t.volumeL&&e.jsxs("div",{className:"rounded-lg bg-neutral-50 p-2 dark:bg-neutral-800",children:[e.jsx("dt",{className:"text-neutral-500",children:"Volume"}),e.jsxs("dd",{className:"font-medium",children:[t.volumeL," L"]})]}),t.weightKg&&e.jsxs("div",{className:"rounded-lg bg-neutral-50 p-2 dark:bg-neutral-800",children:[e.jsx("dt",{className:"text-neutral-500",children:"Weight"}),e.jsxs("dd",{className:"font-medium",children:[t.weightKg," kg"]})]})]}),e.jsx("div",{className:"mt-4 flex items-center justify-end gap-3",children:e.jsxs("span",{className:"rounded-full bg-indigo-600 px-2.5 py-1 text-sm font-semibold text-white",children:["Deposit ",g(t.depositGBP)]})}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{disabled:i,onClick:()=>l(o=>!o),className:p("w-full rounded-2xl px-4 py-2 font-semibold shadow-sm focus:outline-none focus:ring-2",i?"cursor-not-allowed bg-neutral-200 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-500":"bg-emerald-600 text-white hover:-translate-y-0.5 hover:bg-emerald-700 focus:ring-emerald-500"),children:i?"Unavailable":d?"Hide rent options":"Rent this item"})}),d&&!i&&e.jsxs("div",{className:"mt-4 rounded-2xl bg-emerald-50 p-4 ring-1 ring-emerald-200 dark:bg-neutral-900 dark:ring-neutral-800",children:[e.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("label",{className:"block text-sm font-semibold text-neutral-700",children:"Start date"}),e.jsx("input",{type:"date",value:c,onChange:o=>u(o.target.value),className:"mt-1 w-full rounded-xl border border-emerald-300 bg-white/90 px-3 py-2 outline-none transition focus:border-emerald-500 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-100"})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("label",{className:"block text-sm font-semibold text-neutral-700",children:"Days"}),e.jsx("input",{type:"number",min:1,value:r,onChange:o=>m(Math.max(1,Number(o.target.value)||1)),className:"mt-1 w-full rounded-xl border border-emerald-300 bg-white/90 px-3 py-2 outline-none transition focus:border-emerald-500 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-100"})]}),e.jsx("div",{className:"sm:col-span-1 flex items-end",children:e.jsxs("div",{className:"w-full rounded-xl bg-white px-3 py-2 ring-1 ring-emerald-200 dark:bg-neutral-900 dark:ring-neutral-800 dark:text-neutral-100",children:[e.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:"Estimated total"}),e.jsx("p",{className:"text-lg font-extrabold text-emerald-700",children:g(x)})]})})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-2 text-xs text-neutral-600 dark:text-neutral-400",children:[e.jsx("p",{children:"Total = days × daily + deposit. Gear returned clean & undamaged to refund deposit."}),e.jsx("button",{onClick:()=>alert("Checkout flow to be implemented"),className:"rounded-xl bg-indigo-600 px-4 py-2 font-semibold text-white shadow-sm transition hover:-translate-y-0.5 hover:bg-indigo-700",children:"Continue to checkout"})]})]})]})]})}function v({src:t,alt:d}){const l="data:image/svg+xml;base64,"+btoa(`<svg xmlns='http://www.w3.org/2000/svg' width='800' height='500'>
        <defs><linearGradient id='g' x1='0' y1='0' x2='1' y2='1'>
          <stop offset='0%' stop-color='#16A34A'/><stop offset='100%' stop-color='#4F46E5'/>
        </linearGradient></defs>
        <rect width='100%' height='100%' fill='url(#g)'/>
        <text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle'
          font-family='Arial' font-size='24' fill='white' opacity='0.9'>Gear Image</text>
      </svg>`);return e.jsxs("div",{className:"relative h-full w-full overflow-hidden bg-gradient-to-br from-emerald-50 to-indigo-50",children:[e.jsx("img",{src:t||l,alt:d,loading:"lazy",className:"h-full w-full object-cover transition duration-700 ease-out",onError:r=>r.currentTarget.src=l}),e.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 bg-gradient-to-t from-black/30 via-black/0"})]})}export{k as default};
